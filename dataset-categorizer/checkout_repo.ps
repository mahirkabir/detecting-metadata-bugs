# Run this powershell script in the dataset main folder and all the projects will be checkedout to the randomly selected version for bug injection
# Define the list of projects and their corresponding git versions
$projects = @{
    "325Group" = "6162a377e56861174e6de01c8209fd064bcee0b7"
    "abstractions" = "b5f7a8fadbb83e4142d770a9655c7e97f8356d70"
    "activiti-liferay" = "62ea86b12554831b2540043f3198e7711f559f3b"
    "addis-core" = "26d8e3c272d88a63c2b258af8e80c473e150407b"
    "arsnova-war" = "14df8aaa5a1e0484e1767c049aec5cc2852f7de1"
    "asksg" = "2555dd5bfdd01d2165cb394be7f7ada0290e0ab3"
    "AxonFramework" = "f8be47dbb7880dc21e407a2cf608a7a40d7029e8"
    "base-mvc-security" = "00ff1d99b41d8084b173ff662eb1114bdd467c22"
    "birthdays" = "016e58bb4010b7b5acc13561dada725511600bc4"
    "bookstore" = "43fe90ec299faea3d0f335358f95f8acacaeea96"
    "caller" = "3f29b01662a0db26cc88805c1c036922e392734a"
    "CCA" = "18528e59d6d8140c8499be53588f65e71c2262a8"
    "cheetah" = "4c2a5e145a3ad12bb816c061c87b1588fe42e18a"
    "CMF-Web-Bridge" = "fab6eed39dd01312c965192d42487bb665e0204e"
    "collect" = "d5c9d680e69a631c07d025ccbc31e4bc72cdfd96"
    "colportaje" = "aed7b9d62c2583f5aa902ec5f5a7b6c9505942be"
    "commons" = "a70cb543e116c96ad462ece1d02109fe2e8d3284"
    "commons-configuration" = "bc97b0a628554ccd5e6b898a2802c95984396e88"
    "computer-database-2" = "e7cf3b3b1dfccc10e8171d8d06361a3ebccfdd1f"
    "de-webapp" = "1573ebdb74b5e2411e9d093e7536df020eb5d7c8"
    "devicehive-java" = "d8a7a5963b728322acb2d76ad618da84054d348c"
    "diffa" = "fda011d2be5a2f1fd3a320a2515fe12aafb4c767"
    "dmcweb" = "deff537858bad3b45c7394750e55c3cd03048881"
    "EGipermarket" = "10cd04290f120259b4c23e0fa6ac9dcc94c766d8"
    "ehour" = "ed4e08c5a4aba7d0b46001568677e5dce0daee1a"
    "eionet.datadict" = "302b2c07e05d41afc2bc49bb18441b56ee5f69f2"
    "emite" = "b3367a70ec24fe3d1913ad728d8a2fdcb85e76a6"
    "encuestame" = "0f9fb58f2c01f98b635574680632247e281564b8"
    "escidoc-core" = "9325d269d0276e59f8f58b9fc4ff745bdce54a2f"
    "esieAddress" = "282b058f1734c85e9da6031eba5a6eab2339cad1"
    "faces" = "e5a11a0dbd1ac5df8d0984decd21842c3be62b62"
    "fastjson" = "5bc5afe6ab16d53a0bbfbf022f4a5016d8782a91"
    "fcrepo-1" = "e9bb39383c867c7add972ede940c15db15957396"
    "federation" = "b5f8203a14ed5f97a4cd6eaac9b8b89531162d9b"
    "fra2015" = "b8555d1a58fdc03a8e990bcf8e4d0f6ca5d041e0"
    "gazpachosurvey" = "e8f25b2e62935aa0ddcbbc8aa79ef8071fbee782"
    "geocat" = "bcc4cb76a12ad7daf4c3708bf18dcbd2cbf885e9"
    "geomajas-project-client-gwt" = "965648d0a213ecbfc73d65a889116cbcc5ef17ca"
    "geoserver_trunk" = "8764a95fe021c94bd87a4fb2408b6d6f74ef3033"
    "geoserver-old" = "5160894533c0075c8575d28fc8e72cd3a909cd4d"
    "GHANA-National" = "50188a28590afa0e5c691b1c3eb176d3c2004040"
    "ginco" = "edeb8cadfcd0c461160568eb8a4406f4bb42d32a"
    "groepI" = "5eb5872b2196124a74cbdd8facf0db7fa035161b"
    "gwt-glom" = "7b5e1cbc595266bf9631f9718c4534db565f1c9e"
    "head" = "3f478483e5e411c3fac9b692b1d6d5fd28ba5d97"
    "hq" = "eea5a48d7c446107553adb1f0e65c935f3b5f73c"
    "idm" = "2c20b0bb86a98643746c3d1002ab7e06bd2796be"
    "ikube" = "625a925562a4568cc2cb04a011579a796000be21"
    "interiordesigner" = "4ea8117d2907634fd24fa88a0f06a624fc600a5f"
    "Interns-jee-webapp" = "9449caf64912ab63899891f73a741db9b8154066"
    "java-example" = "174556277a8800e400dabbbe87460bc37a174678"
    "jdbcmetrics" = "90b722b4f49163e6931c68290e70b31622f24281"
    "Jonrah" = "12bcfc3e038fe059aca20492eb3d3d372ca33a21"
    "kc" = "e94ea11383987f873e401d32a84c668efb651878"
    "kuali_rice" = "c0e9c12e5f4a2c44ebd6109e39ad1b507f7c5bd3"
    "Lemo-Data-Management-Server" = "a2ca0658e886079d64d71113b3442c02073728d7"
    "login-server" = "84e7a01fb32e601dcf100677ce7371e03785014f"
    "Microblog" = "bea039f4b6811092f83b1e86ae784a07ad20b5b1"
    "movie-manager" = "a8ffa9d3378fef9d6fa398586ffcf66b5588c6f6"
    "MultiBitMerchant" = "1b570795bd9352194fabd8839db941f205470cb9"
    "smorales-app-headbanging-ee6" = "34f971b4152ad712bc3851cc387b4ddfa43faee6"
    "spring-security-oauth" = "351142475d35943317d58b522282e4a4e932cff8"
    "twilio-sample" = "8f184872aae22cbc0a2262d016ff1f26ca8773fc"
    "uPortal" = "2228381648085e557b7a161430ca65a87e6778d4"
}

# Get the current working directory (which should be the parent directory of all projects)
$currentDir = Get-Location

foreach ($project in $projects.Keys) {
    $version = $projects[$project]
    $projectPath = Join-Path -Path $currentDir -ChildPath $project
    
    if (Test-Path -Path $projectPath) {
        Write-Host "Processing $project..."
        
        # Navigate to the project directory
        Set-Location -Path $projectPath
        
        # Fetch the latest changes
        git fetch
        
        # Checkout the specified version
        git checkout $version
        
        Write-Host "Checked out $project to $version"
        
        # Return to the parent directory
        Set-Location -Path $currentDir
    } else {
        Write-Host "Project folder $project does not exist in the current directory"
    }
}

Write-Host "All projects processed."
